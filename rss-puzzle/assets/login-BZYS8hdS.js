var N=Object.defineProperty;var T=(n,t,e)=>t in n?N(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var s=(n,t,e)=>(T(n,typeof t!="symbol"?t+"":t,e),e);import{B as b,i as d,b as E,l as h,L as F,R as I,d as p,a as f}from"./index-2CqhxmcN.js";const A={FORM:{tag:"form",classes:["login__form"],attributes:{action:"#",method:"POST"}},LABEL_NAME:{classes:["login__label"],content:"First Name:",attributes:{for:"name"}},INPUT_NAME:{classes:["login__input-text"],attributes:{placeholder:"Type your name",type:"text",name:"name",id:"name",required:"required",minlength:"3",pattern:"^[A-Z][\\-a-z]+$",title:"Minimum 3 Latin letters with hyphens, first letter should be in upper case."}},LABEL_SURNAME:{classes:["login__label"],content:"Surname:",attributes:{for:"surname"}},INPUT_SURNAME:{classes:["login__input-text"],attributes:{placeholder:"Type your surname",type:"text",name:"surname",id:"surname",required:"required",minlength:"4",pattern:"^[A-Z][\\-a-z]+$",title:"Minimum 4 Latin letters with hyphens, first letter should be in upper case."}},BUTTON_LOGIN:{classes:["button-primary","disabled"],content:"Login Now",attributes:{type:"submit",disabled:"disabled"}}},{FORM:S,INPUT_NAME:c,INPUT_SURNAME:g,BUTTON_LOGIN:l,LABEL_NAME:o,LABEL_SURNAME:m}=A;class v extends b{constructor(e,i){super(S);s(this,"inputName",d(c.classes,c.attributes));s(this,"inputSurname",d(g.classes,g.attributes));s(this,"buttonLogin",E(l.classes,l.content,l.attributes));s(this,"labelName",h(o.classes,o.content,o.attributes));s(this,"labelSurname",h(m.classes,m.content,m.attributes));s(this,"isFormValid");this.navigateTo=e,this.renderLogOut=i,this.isFormValid=!1,this.addListeners(),this.createLoginForm()}createLoginForm(){this.appendChildren([this.labelName.element,this.inputName.element,this.labelSurname.element,this.inputSurname.element,this.buttonLogin.element])}addListeners(){this.inputSurname.element.addEventListener("input",()=>{this.handleInputChange()}),this.inputName.element.addEventListener("input",()=>{this.handleInputChange()}),this.element.addEventListener("submit",e=>{this.handleFormSubmit(e)})}handleInputChange(){this.reportFormValidity(),this.isFormValid?(this.enableButtonLogin(),this.markInputsAsValid()):(this.markInputsAsError(),this.disableButtonLogin())}handleFormSubmit(e){if(e.preventDefault(),this.reportFormValidity(),this.isFormValid){if(this.inputName.removeClass("error"),this.inputSurname.removeClass("error"),this.inputName.element instanceof HTMLInputElement&&this.inputSurname.element instanceof HTMLInputElement){const i=this.inputName.element.value,a=this.inputSurname.element.value;F.setItem("user",{name:i,surname:a})}this.navigateTo(I.START),this.renderLogOut()}}reportFormValidity(){this.element instanceof HTMLFormElement&&(this.isFormValid=this.element.reportValidity())}enableButtonLogin(){this.buttonLogin.removeAttribute("disabled"),this.buttonLogin.removeClass("disabled")}disableButtonLogin(){this.buttonLogin.setAttribute("disabled","disabled"),this.buttonLogin.addClass("disabled")}markInputsAsError(){this.inputName.addClass("error"),this.inputSurname.addClass("error")}markInputsAsValid(){this.inputName.removeClass("error"),this.inputSurname.removeClass("error")}}class y extends b{constructor(e,i){super({tag:"div",classes:["login__wrapper"]});s(this,"loginForm");this.navigateTo=e,this.renderLogOut=i,this.loginForm=new v(this.navigateTo,this.renderLogOut),this.createLoginPage()}createLoginPage(){const e={DIV_LEFT:{classes:["login__left-aside"]},DIV_RIGHT:{classes:["login__form-wrapper"]},H2:{classes:["login__form-title"],content:"Login & Welcome ðŸ§©"}},{DIV_LEFT:i,DIV_RIGHT:a,H2:u}=e,L=p(i.classes).element,r=p(a.classes).element,_=f(u.classes,u.content).element;r.append(_),r.append(this.loginForm.element),this.appendChildren([L,r])}}export{y as default};
